# 结构体与结构体指针

结构体指针在函数参数传递和性能优化等方面也有一些优势，
因为它们可以避免整个结构体的复制，只传递指针地址

```go
package main

import "fmt"
// 定义一个结构体
type Person struct {
	Name string
	Age  int
}

func main() {
	// 创建一个结构体实例
	p1 := Person{Name: "Alice", Age: 25}
	// 创建一个结构体指针指向p1
	p2 := &p1
	// 通过指针改变p1
	p2.Age = 30
	// 输出p1的值
	fmt.Println(p1) // 输出: {Alice 30}
	// 输出p2指针的值
	fmt.Println(p2) // 输出: &{Alice 30}
	// 输出p2指针指向的值
	fmt.Println(*p2) // 输出: {Alice 30}
}

```

# 结构体方法

接收一个指定类型的接收者（receiver）作为第一个参数，并且可以通过这个接收者来访问和修改该类型的字段。
值接收者（value receiver），它使用结构体的一个副本来调用方法。这意味着在方法内部对接收者的修改不会影响原始结构体
指针接收者（pointer receiver），它使用结构体的指针来调用方法。这意味着在方法内部对接收者的修改会直接影响原始结构体。
使用指针接收者通常更高效，因为它避免了结构体的复制，特别是在结构体较大或者包含大量数据时。

```go
package main

import "fmt"

// 定义一个结构体
type Rectangle struct {
	width, height float64
}

// 定义一个值接收者的方法，计算矩形的面积
func (r Rectangle) Area() float64 {
	return r.width * r.height
}

// 定义一个指针接收者的方法，修改矩形的宽度
func (r *Rectangle) SetWidth(width float64) {
	r.width = width
}

func main() {
	// 创建一个结构体实例
	rect := Rectangle{width: 10, height: 5}

	// 调用结构体方法
	fmt.Println("Area:", rect.Area())

	// 使用指针调用修改结构体的方法
	(&rect).SetWidth(20)
	fmt.Println("Updated Area:", rect.Area())

	// 也可以直接使用变量调用，Go会自动取地址
	rect.SetWidth(30)
	fmt.Println("Updated Area Again:", rect.Area())
}

```
